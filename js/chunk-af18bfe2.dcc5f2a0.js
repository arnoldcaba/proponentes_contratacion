(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af18bfe2"],{"0b42":function(e,o,r){var t=r("861d"),a=r("e8b5"),s=r("b622"),n=s("species");e.exports=function(e){var o;return a(e)&&(o=e.constructor,"function"!=typeof o||o!==Array&&!a(o.prototype)?t(o)&&(o=o[n],null===o&&(o=void 0)):o=void 0),void 0===o?Array:o}},"1dde":function(e,o,r){var t=r("d039"),a=r("b622"),s=r("2d00"),n=a("species");e.exports=function(e){return s>=51||!t((function(){var o=[],r=o.constructor={};return r[n]=function(){return{foo:1}},1!==o[e](Boolean).foo}))}},"4de4":function(e,o,r){"use strict";var t=r("23e7"),a=r("b727").filter,s=r("1dde"),n=s("filter");t({target:"Array",proto:!0,forced:!n},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,o,r){var t=r("0b42");e.exports=function(e,o){return new(t(e))(0===o?0:o)}},"954e":function(e,o,r){"use strict";r.r(o);var t=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("v-container",{attrs:{justify:"center"}},[r("v-flex",[r("v-card",{staticClass:"mx-auto"},[r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:e.propuestasAdjudicadas}},[r("v-icon",{attrs:{dark:""}},[e._v(" refresh ")])],1),r("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(o){e.search=o},expression:"search"}}),r("br"),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.dataConsulta,search:e.search},scopedSlots:e._u([{key:"item.valor",fn:function(o){var t=o.item;return[r("span",[e._v(" "+e._s(e.$formatonumero(t.valor,2,1))+" ")])]}},{key:"item.verOferentes",fn:function(o){var t=o.item;return[r("v-icon",{staticClass:"mr-5",attrs:{color:"primary"},on:{click:function(o){return e.oferentePropuestaAdjudicada(t.id,t.titulo)}}},[e._v(" person ")])]}},{key:"item.creamoddocumentos",fn:function(o){var t=o.item;return[r("v-icon",{staticClass:"mr-5",attrs:{color:e.getColorBtnData(t)},on:{click:function(o){return e.abrirDialogoDocRequerida(t)}}},[e._v(" add_to_photos ")])]}}])})],1)],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"1200",scrollable:""},model:{value:e.dialog_oferentes,callback:function(o){e.dialog_oferentes=o},expression:"dialog_oferentes"}},[r("v-card",{attrs:{elevation:"10"}},[r("v-card-title",{staticClass:"headline justify-center"},[e._v(" "+e._s("Adjudicación para el proceso '"+e.tituloOferentes+"'")+" ")]),r("v-card-text",[r("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.searchOferente,callback:function(o){e.searchOferente=o},expression:"searchOferente"}}),r("br"),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersOferente,items:e.oferentes,search:e.searchOferente,"item-key":"proponente"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(o){e.dialog_oferentes=!1}}},[e._v("Cancelar")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"800",scrollable:""},model:{value:e.dialog_datosadicionales,callback:function(o){e.dialog_datosadicionales=o},expression:"dialog_datosadicionales"}},[r("v-card",{attrs:{elevation:"10"}},[r("v-card-title",{staticClass:"headline justify-center"},[e._v(" Datos del Proceso ")]),r("v-card-text",[r("v-form",{ref:"form",model:{value:e.valid,callback:function(o){e.valid=o},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-autocomplete",{attrs:{items:e.arrAbogados,"item-text":"nombrecompleto","item-value":"codigo",dense:"",label:"Abogado del Proceso",autocomplete:"off","cache-items":!1,rules:[e.rules.required],readonly:"S"==e.item.vobojefjur},model:{value:e.abogadoproceso,callback:function(o){e.abogadoproceso=o},expression:"abogadoproceso"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-autocomplete",{attrs:{items:e.arrAbogados,"item-text":"nombrecompleto","item-value":"codigo",dense:"",label:"Supervisor",autocomplete:"off","cache-items":!1,rules:[e.rules.required,e.rules.noDual],readonly:"S"==e.item.vobojefjur},model:{value:e.supervisorproceso,callback:function(o){e.supervisorproceso=o},expression:"supervisorproceso"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Valor","single-line":"","hide-details":"",rules:[e.rules.required,e.rules.valorNumerico],readonly:"S"==e.item.vobojefjur},on:{focus:function(o){return e.formatoValorIn()},blur:function(o){return e.formatoValorOut()}},model:{value:e.valorproceso,callback:function(o){e.valorproceso=o},expression:"valorproceso"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:"",disabled:!e.valid||e.supervisorproceso==e.abogadoproceso||"S"==e.item.vobojefjur},on:{click:e.guardarDatos}},[e._v("Guardar")]),r("v-btn",{attrs:{color:"secondary",dark:"",text:""},on:{click:function(o){e.dialog_datosadicionales=!1}}},[e._v("Cancelar")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"900",scrollable:""},model:{value:e.dialog_vobo,callback:function(o){e.dialog_vobo=o},expression:"dialog_vobo"}},[r("v-card",{attrs:{elevation:"10"}},[r("v-card-title",{staticClass:"headline justify-center"},[e._v(" VoBo Proceso ")]),r("v-card-text",[r("v-form",{ref:"form2",model:{value:e.valid2,callback:function(o){e.valid2=o},expression:"valid2"}},[r("v-row",[r("v-col",{attrs:{cols:"3"}},[r("v-select",{attrs:{items:e.arrVoBo,"item-value":"valor","item-text":"texto",label:"Visto Bueno",rules:[e.rules.required],"return-object":!1,readonly:e.readvbjuridica},model:{value:e.vobojefjur,callback:function(o){e.vobojefjur=o},expression:"vobojefjur"}})],1)],1),r("v-row",[r("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:e.readvbjuridica},model:{value:e.voboobservacion,callback:function(o){e.voboobservacion=o},expression:"voboobservacion"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:"",disabled:!e.valid2||e.readvbjuridica},on:{click:e.agregarVoBo}},[e._v("Guardar")]),r("v-btn",{attrs:{color:"secondary",dark:"",text:""},on:{click:function(o){e.dialog_vobo=!1}}},[e._v("Cancelar")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"1300",scrollable:""},model:{value:e.dialog_docrequerida,callback:function(o){e.dialog_docrequerida=o},expression:"dialog_docrequerida"}},[r("v-card",{attrs:{elevation:"10"}},[r("v-card-title",{staticClass:"headline justify-center"},[e._v(" Crear Documentación Requerida ")]),r("v-card-text",[r("documentosProceso",{attrs:{idproceso:e.idproceso,estadoproceso:e.estadoproceso},on:{"update:idproceso":function(o){e.idproceso=o},"update:estadoproceso":function(o){e.estadoproceso=o}}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary",dark:"",text:""},on:{click:function(o){e.dialog_docrequerida=!1}}},[e._v("Cancelar")])],1)],1)],1)],1)},a=[],s=r("1da1"),n=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("4de4"),r("7424")),i={name:"formuContracProcesos",components:{documentosProceso:function(){return r.e("chunk-2d225871").then(r.bind(null,"e57b"))}},data:function(){var e=this;return{search:"",tipo_evaluacion:"",oferentes:[],dialog_oferentes:!1,dialog_datosadicionales:!1,searchOferente:"",tituloOferentes:"",abogadoproceso:"",supervisorproceso:"",valorproceso:0,arrAbogados:[],valid:!1,item:"",dialog_vobo:!1,readvbjuridica:!0,vobojefjur:"",voboobservacion:"",itemvobo:"",valid2:!1,idproceso:"",estadoproceso:"",dialog_docrequerida:!1,arrVoBo:[{valor:"N",texto:"NO"},{valor:"S",texto:"SI"}],arrTipoEvaluacion:[{value:"PM",text:"Proceso Manual"},{value:"AC",text:"Algoritmo de cálculo"}],dataConsulta:[],headers:[{text:"Título del proceso",align:"left",value:"titulo",class:"subtitle-1 font-weight-bold black--text"},{text:"Fecha límite",align:"left",value:"fecha_cierre_format",class:"subtitle-1 font-weight-bold black--text"},{text:"Tipo de proceso",align:"left",value:"tipo_contratacion",class:"subtitle-1 font-weight-bold black--text"},{text:"Estado",align:"left",value:"estado",class:"subtitle-1 font-weight-bold black--text"},{text:"Referencia",align:"left",value:"referencia",class:"subtitle-1 font-weight-bold black--text"},{text:"Abogado",align:"left",value:"nombreabogado",class:"subtitle-1 font-weight-bold black--text"},{text:"Supervisor",align:"left",value:"nombresupervisor",class:"subtitle-1 font-weight-bold black--text"},{text:"Valor",align:"left",value:"valor",class:"subtitle-1 font-weight-bold black--text"},{text:"Documentos",align:"center",value:"creamoddocumentos",class:"subtitle-1 font-weight-bold black--text"},{text:"Oferentes",align:"center",value:"verOferentes",class:"subtitle-1 font-weight-bold black--text"}],headersOferente:[{text:"Nombre/Razón social",align:"left",value:"Nombre",class:"subtitle-1 font-weight-bold black--text"},{text:"Identificación",align:"left",value:"identificacion",class:"subtitle-1 font-weight-bold black--text"},{text:"Fecha",align:"left",value:"fecha",class:"subtitle-1 font-weight-bold black--text"}],rules:{required:function(e){return!!e||"Campo requerido."},noDual:function(o){return o!==e.abogadoproceso||"El abogado debe ser diferente al Supervisor."},valorNumerico:function(o){return 0!==parseFloat(e.$limpiarMoneda(o))||"El valor debe ser diferente a cero (0)."}}}},methods:{getColorBtnData:function(e){return""===e.abogado||null===e.abogado?"gray":"primary"},getColorBtnVoBo:function(e){return"N"===e?"red":"S"===e?"primary":"gray"},formatoValorIn:function(){this.valorproceso=this.$limpiarMoneda(this.valorproceso)},formatoValorOut:function(){this.valorproceso=this.$formatonumero(this.valorproceso,2,1)},propuestasAdjudicadas:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r,t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n["a"].propuestasAdjudicadas();case 3:r=o.sent,t=r.data,e.dataConsulta=t,o.next=11;break;case 8:o.prev=8,o.t0=o["catch"](0),console.log(o.t0);case 11:return o.prev=11,o.finish(11);case 13:case"end":return o.stop()}}),o,null,[[0,8,11,13]])})))()},oferentePropuestaAdjudicada:function(e,o){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].oferentePropuestaAdjudicada({codigopropuesta:e});case 3:a=t.sent,s=a.data,r.oferentes=s,r.tituloOferentes=o,r.dialog_oferentes=!0,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[0,10,13,15]])})))()},traeAbogados:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r,t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n["a"].personalPorArea({area:7});case 3:r=o.sent,t=r.data,t.data&&(e.arrAbogados=t.data.filter((function(e){return 1===e.codigoestado}))),o.next=11;break;case 8:o.prev=8,o.t0=o["catch"](0),console.log(o.t0);case 11:return o.prev=11,o.finish(11);case 13:case"end":return o.stop()}}),o,null,[[0,8,11,13]])})))()},limpiarDatos:function(){this.abogadoproceso="",this.supervisorproceso="",this.valorproceso=0},abrirDialogoDatos:function(e){this.item=e,this.limpiarDatos(),this.abogadoproceso=e.abogado,this.supervisorproceso=e.supervisor,this.valorproceso=this.$formatonumero(e.valor,2,1),this.dialog_datosadicionales=!0},guardarDatos:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r,t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(0!==e.valorproceso&&""!==e.valorproceso){o.next=3;break}return e.$toasted.error("Debe ingresar el valor",{icon:"error",duration:5e3}),o.abrupt("return");case 3:return o.next=5,n["a"].addDatosAnexosPropuestaConvocatoria({proceso:e.item.id,abogado:e.abogadoproceso,supervisor:e.supervisorproceso,valor:e.$limpiarMoneda(e.valorproceso)});case 5:r=o.sent,t=r.data,t.result?"ok"===t.result?(e.$toasted.success(t.mensaje,{icon:"check",duration:5e3}),e.limpiarDatos(),e.propuestasAdjudicadas(),e.dialog_datosadicionales=!1):e.$toasted.error(t.mensaje,{icon:"error",duration:5e3}):e.$toasted.error("Se presentó un error al intentar agregar o actualizar la información",{icon:"error",duration:5e3});case 8:case"end":return o.stop()}}),o)})))()},abrirDialogoVoBo:function(e){this.vobojefjur=e.vobojefjur,this.voboobservacion=e.voboobservacion,this.itemvobo=e,this.dialog_vobo=!0},buscarResponsableJuridico:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r,t,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.readvbjuridica=!0,o.prev=1,r=e.$session.get("usuarioid"),o.next=5,n["a"].userXArea({area:7});case 5:t=o.sent,a=t.data,a.data&&parseFloat(a.data[0].userid)===parseFloat(r)&&(e.readvbjuridica=!1),o.next=12;break;case 10:o.prev=10,o.t0=o["catch"](1);case 12:return o.prev=12,o.finish(12);case 14:case"end":return o.stop()}}),o,null,[[1,10,12,14]])})))()},agregarVoBo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r,t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(""!==e.vobojefjur&&""!==e.voboobservacion){o.next=3;break}return e.$toasted.error("Debe ingresar los datos",{icon:"error",duration:5e3}),o.abrupt("return");case 3:return o.next=5,n["a"].guardarVoBoPropuestaConvocatoria({proceso:e.item.id,vobojefjur:e.vobojefjur,voboobservacion:e.voboobservacion});case 5:r=o.sent,t=r.data,t.result?"ok"===t.result?(e.$toasted.success(t.mensaje,{icon:"check",duration:5e3}),e.limpiarDatos(),e.propuestasAdjudicadas(),e.dialog_vobo=!1):e.$toasted.error(t.mensaje,{icon:"error",duration:5e3}):e.$toasted.error("Se presentó un error al intentar agregar o actualizar la información",{icon:"error",duration:5e3});case 8:case"end":return o.stop()}}),o)})))()},abrirDialogoDocRequerida:function(e){this.idproceso=e.id,this.estadoproceso=e.estado,this.dialog_docrequerida=!0}},mounted:function(){this.propuestasAdjudicadas(),this.traeAbogados(),this.buscarResponsableJuridico()}},c=i,l=r("2877"),u=Object(l["a"])(c,t,a,!1,null,null,null);o["default"]=u.exports},b727:function(e,o,r){var t=r("0366"),a=r("44ad"),s=r("7b0b"),n=r("50c4"),i=r("65f0"),c=[].push,l=function(e){var o=1==e,r=2==e,l=3==e,u=4==e,d=6==e,v=7==e,f=5==e||d;return function(b,p,m,g){for(var h,x,k=s(b),j=a(k),_=t(p,m,3),w=n(j.length),y=0,A=g||i,C=o?A(b,w):r||v?A(b,0):void 0;w>y;y++)if((f||y in j)&&(h=j[y],x=_(h,y,k),e))if(o)C[y]=x;else if(x)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:c.call(C,h)}else switch(e){case 4:return!1;case 7:c.call(C,h)}return d?-1:l||u?u:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},e8b5:function(e,o,r){var t=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==t(e)}}}]);
//# sourceMappingURL=chunk-af18bfe2.dcc5f2a0.js.map