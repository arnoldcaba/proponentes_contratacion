(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2004e548"],{"0b42":function(t,e,a){var r=a("861d"),o=a("e8b5"),i=a("b622"),s=i("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)?r(e)&&(e=e[s],null===e&&(e=void 0)):e=void 0),void 0===e?Array:e}},"1dde":function(t,e,a){var r=a("d039"),o=a("b622"),i=a("2d00"),s=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],a=e.constructor={};return a[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,a){var r=a("0b42");t.exports=function(t,e){return new(r(t))(0===e?0:e)}},8418:function(t,e,a){"use strict";var r=a("a04b"),o=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var s=r(e);s in t?o.f(t,s,i(0,a)):t[s]=a}},a434:function(t,e,a){"use strict";var r=a("23e7"),o=a("23cb"),i=a("a691"),s=a("50c4"),n=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=d("splice"),v=Math.max,f=Math.min,g=9007199254740991,p="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var a,r,d,u,h,m,b=n(this),x=s(b.length),k=o(t,x),w=arguments.length;if(0===w?a=r=0:1===w?(a=0,r=x-k):(a=w-2,r=f(v(i(e),0),x-k)),x+a-r>g)throw TypeError(p);for(d=c(b,r),u=0;u<r;u++)h=k+u,h in b&&l(d,u,b[h]);if(d.length=r,a<r){for(u=k;u<x-r;u++)h=u+r,m=u+a,h in b?b[m]=b[h]:delete b[m];for(u=x;u>x-r+a;u--)delete b[u-1]}else if(a>r)for(u=x-r;u>k;u--)h=u+r-1,m=u+a-1,h in b?b[m]=b[h]:delete b[m];for(u=0;u<a;u++)b[u+k]=arguments[u+2];return b.length=x-r+a,d}})},e8b5:function(t,e,a){var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f543:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{fluid:""}},[a("v-card",{attrs:{width:"100%"}},[a("v-card-title",{staticClass:"justify-center"},[t._v("Códigos UNSPSC")]),a("v-card-text",[a("div",{staticStyle:{"padding-bottom":"10px"}},["0"!=t.codigo&&""!=t.codigo?a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1):t._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{attrs:{headers:t.headers,items:t.dataUnspsc,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.dialog_del=!0,t.itemactual=r}}},[t._v(" delete ")])]}}])})],1)])],1),a("v-dialog",{attrs:{"max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Agregar Códigos Unspsc")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("v-select",{attrs:{items:t.arrfiltro,"item-value":"value","item-text":"text","return-object":!1,label:"Tipo de Filtro"},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}})],1),a("v-col",{attrs:{cols:"5"}},[a("v-text-field",{attrs:{label:"Dato"},model:{value:t.valfiltro,callback:function(e){t.valfiltro=e},expression:"valfiltro"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.traerDataXFiltro}},[a("v-icon",{attrs:{dark:""}},[t._v("search")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{sm12:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchfiltro,callback:function(e){t.searchfiltro=e},expression:"searchfiltro"}}),a("br"),a("v-data-table",{attrs:{headers:t.headersbusqueda,items:t.dataBusq,"items-per-page":5,"disable-sort":!0,search:t.searchfiltro},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.seleccionarItem(r)}}},[t._v(" send ")])]}}])}),a("br"),a("div",{staticStyle:{width:"100%","text-align":"center"}},[a("h3",[t._v("Seleccionados")])]),a("v-data-table",{attrs:{headers:t.headersseleccionados,items:t.dataseleccionados,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.eliminarItem(r)}}},[t._v(" delete ")])]}}])})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid||0==t.dataseleccionados.length},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Unspsc")])]),a("v-card-text",[t._v(" ¿Esta seguro de eliminar la Información seleccionada? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},o=[],i=a("1da1"),s=(a("a434"),a("96cf"),a("7424")),n={name:"regUnspsc",props:["email","codigo"],data:function(){return{dataUnspsc:[],search:"",dialog:!1,dialog_del:!1,itemactual:"",valid:!1,unspsctxt:"",unspsctxtant:"",unspsc:0,filtro:"",valfiltro:"",searchfiltro:"",dataBusq:[],dataseleccionados:[],headers:[{text:"Código",align:"left",sortable:!1,value:"codigounspsc",class:"subtitle-1 font-weight-bold black--text"},{text:"UNSPSC",align:"left",sortable:!1,value:"descripcionunspsc",class:"subtitle-1 font-weight-bold black--text"},{text:"Acción",value:"action",sortable:!1,class:"subtitle-1 font-weight-bold black--text"}],headersbusqueda:[{text:"Código",align:"left",sortable:!1,value:"codigo",class:"subtitle-1 font-weight-bold black--text"},{text:"UNSPSC",align:"left",sortable:!1,value:"nombre",class:"subtitle-1 font-weight-bold black--text"},{text:"Seleccionar",value:"action",sortable:!1,class:"subtitle-1 font-weight-bold black--text"}],headersseleccionados:[{text:"Código",align:"left",sortable:!1,value:"codigo",class:"subtitle-1 font-weight-bold black--text"},{text:"UNSPSC",align:"left",sortable:!1,value:"nombre",class:"subtitle-1 font-weight-bold black--text"},{text:"Accion",align:"left",sortable:!1,value:"action",class:"subtitle-1 font-weight-bold black--text"}],arrfiltro:[{text:"Código",value:"C"},{text:"Clase",value:"L"},{text:"Familia",value:"F"},{text:"Segmento",value:"S"},{text:"UNSPSC",value:"U"}]}},methods:{resetForm:function(){this.unspsctxt="",this.unspsctxtant="",this.unspsc=0,this.filtro="",this.valfiltro="",this.searchfiltro="",this.dataBusq=[],this.dataseleccionados=[]},cerrarDialogo:function(){this.resetForm(),this.dialog=!1},closeDialogoDel:function(){this.dialog_del=!1},getFormRegUnsPsc:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["d"].getRegistroUnspsc({codigoformregistro:t.codigo});case 3:a=e.sent,r=a.data,t.dataUnspsc=r.data,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,8,10,12]])})))()},traerDataXFiltro:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataBusq=[],""!==t.filtro&&""!==t.valfiltro){e.next=4;break}return t.$toasted.error("Debe ingresar los datos de la búsqueda",{icon:"error",duration:5e3}),e.abrupt("return");case 4:return a=[{tipo:t.filtro,valor:t.valfiltro}],e.prev=5,e.next=8,s["d"].getUnspscXFiltro({data:a});case 8:r=e.sent,o=r.data,t.dataBusq=o.data,e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](5);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,null,[[5,13,15,17]])})))()},saveitem:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.dataseleccionados.length<=0)){e.next=4;break}t.$toasted.error("No ha seleccionado ningún Código",{icon:"error",duration:5e3}),e.next=16;break;case 4:return e.prev=4,e.next=7,s["d"].saveRegistroUnspsc({data:t.dataseleccionados});case 7:a=e.sent,r=a.data,r?(t.$toasted.success("Se agregarón los códigos Unspsc con éxito",{icon:"done",duration:5e3}),t.$store.commit("updateRegistro",!0),t.dialog=!1,t.getFormRegUnsPsc()):t.$toasted.error("Se presentó un error al tratar de agregar los códigos",{icon:"error",duration:5e3}),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](4);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[4,12,14,16]])})))()},deleteItem:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["d"].delRegistroUnspsc({codigoformregistro:t.itemactual.codigoformregistro,codigounspsc:t.itemactual.codigounspsc});case 3:a=e.sent,r=a.data,r?(t.$toasted.success("Se eliminó el código Unspsc con éxito",{icon:"done",duration:5e3}),t.dialog_del=!1,t.getFormRegUnsPsc()):t.$toasted.error("Se presentó un error al intentar eliminar el Código Unspsc",{icon:"error",duration:5e3}),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,8,10,12]])})))()},seleccionarItem:function(t){for(var e=0;e<this.dataseleccionados.length;e++){var a=this.dataseleccionados[e];if(t.codigo===a.codigo)return void this.$toasted.error("El Código Unspsc ya fué seleccionado",{icon:"error",duration:5e3})}for(var r=0;r<this.dataUnspsc.length;r++){var o=this.dataUnspsc[r];if(t.codigo===o.codigounspsc)return void this.$toasted.error("El Código Unspsc ya existe",{icon:"error",duration:5e3})}this.dataseleccionados.push({codigoregistro:this.codigo,codigo:t.codigo,nombre:t.nombre})},eliminarItem:function(t){for(var e=0;e<this.dataseleccionados.length;e++){var a=this.dataseleccionados[e];if(t.codigo===a.codigo)return void this.dataseleccionados.splice(e,1)}}},mounted:function(){this.getFormRegUnsPsc()}},c=n,l=a("2877"),d=Object(l["a"])(c,r,o,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2004e548.bbe18714.js.map