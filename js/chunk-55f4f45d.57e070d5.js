(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55f4f45d"],{"0b42":function(e,t,n){var r=n("861d"),a=n("e8b5"),i=n("b622"),o=i("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)?r(t)&&(t=t[o],null===t&&(t=void 0)):t=void 0),void 0===t?Array:t}},"1dde":function(e,t,n){var r=n("d039"),a=n("b622"),i=n("2d00"),o=a("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2dfa":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-flex",[e.item.file_path?e._e():n("v-file-input",e._g(e._b({on:{change:function(t){e.handleFileUpload(t)}},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}})),e._l(e.$slots,(function(t,n){return{key:n,fn:function(){return[e._t(n)]},proxy:!0}}))],null,!0)},"v-file-input",Object.assign({},e.$attrs,e.commonAttrs),!1),e.$listeners)),e.item.file_path?n("v-chip",{staticClass:"ma-2",staticStyle:{margin:"5px"},attrs:{close:"",color:"green darken-2","text-color":"white"},on:{click:function(t){return e.openInNewTab(e.item.file_path)},"click:close":e.removeFile}},[e._v(e._s(e.item.file_name.substring(0,50))+" ")]):e._e()],1)],1)},a=[],i=n("1da1"),o=(n("96cf"),n("b0c0"),n("af91")),s=n("7dee"),c={inheritAttrs:!1,props:{item:{default:function(){return{file_name:"",file_path:""}}}},data:function(){return{}},methods:{handleFileUpload:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null===e){n.next=10;break}return n.next=3,o["a"].uploadToStorage(e);case 3:r=n.sent,t.item.file_size=e.size,t.item.file_type=e.type,t.item.file_name=e.name,t.item.file_path=r.data.path,n.next=14;break;case 10:t.item.file_name="",t.item.file_path="",t.item.file_size="",t.item.file_type="";case 14:t.$emit("file-changed",t.item);case 15:case"end":return n.stop()}}),n)})))()},openInNewTab:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].getFileFromStorage(e);case 3:n=t.sent,r=n.data,a=Object(s["a"])(r,"image/jpeg",""),i=window.open(a,"_blank"),i.focus(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},removeFile:function(){this.item.file_name="",this.item.file_path="",this.item.file_size="",this.item.file_type="",this.$emit("file-changed",this.item)}},computed:{commonAttrs:function(){return{persistentHint:!0,dense:!0,hideDetails:!1}}}},u=c,l=n("2877"),f=Object(l["a"])(u,r,a,!1,null,"769812f2",null);t["a"]=f.exports},3112:function(e,t,n){"use strict";n("708b")},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,i=n("1dde"),o=i("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"6a30":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"adjuntos"}},e._l(e.dataAdjuntos,(function(t){return n("v-card",{key:t.tipo,staticClass:"mx-auto",attrs:{dense:""}},[n("v-card",[n("v-card-title",[e._v(e._s(""+t.tipotxt))]),n("v-card-text",["Finalizado"==t.estadopropuesta||3==parseFloat(t.tipo)?n("v-chip",{staticClass:"ma-2",staticStyle:{margin:"5px"},attrs:{color:"green darken-2","text-color":"white"},on:{click:function(n){return e.openInNewTab(t.file_path,t.file_type)}}},[e._v(" "+e._s(t.file_name.substring(0,50))+" ")]):n("v-btn",{attrs:{text:""}},[n("AddFilesToStorage",{key:e.fileReset,attrs:{item:t,placeholder:"Cargar Archivo",dense:"","hide-details":"","prepend-icon":""},on:{"remove-file":function(t){e.fileReset++},"file-changed":function(t){e.fileReset++}}})],1),n("br"),n("br"),n("v-textarea",{attrs:{name:"input-7-1",filled:"",label:"ObservaciÃ³n",rows:"1",readonly:"Finalizado"==t.estadopropuesta||3==parseFloat(t.tipo)},model:{value:t.observacion,callback:function(n){e.$set(t,"observacion",n)},expression:"item.observacion"}})],1),n("v-card-actions",["Finalizado"!=t.estadopropuesta&&3!=parseFloat(t.tipo)?n("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"primary"},on:{click:function(n){return e.guardarDocumentos(t)}}},[n("v-icon",{attrs:{dark:""}},[e._v(" save ")])],1):e._e()],1)],1),n("br")],1)})),1)},a=[],i=n("1da1"),o=(n("4de4"),n("96cf"),n("2dfa")),s=n("7424"),c=n("af91"),u=n("7dee"),l={props:["idpropconv"],components:{AddFilesToStorage:o["a"]},data:function(){return{dataAdjuntos:[],resetComponent:0,fileReset:0}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getData();case 1:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataAdjuntos=[],t.next=3,s["a"].buscarArchivosAdicionalesContrato({idpropconv:e.idpropconv});case 3:n=t.sent,r=n.data,r.archivos&&(e.dataAdjuntos=r.archivos.filter((function(e){return 3===e.tipo||4===e.tipo})));case 6:case"end":return t.stop()}}),t)})))()},openInNewTab:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c["a"].getFileFromStorage(e);case 3:r=n.sent,a=r.data,i=Object(u["a"])(a,t,""),o=window.open(i,"_blank"),o.focus(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},guardarDocumentos:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=[],r.push({propuestaconvocatoriaid:t.idpropconv,tipo:e.tipo,observacion:e.observacion,file_name:e.file_name,file_path:e.file_path,file_size:e.file_size,file_type:e.file_type}),n.next=4,s["a"].guardardatosAdjuntosArcAdicionalesContrato({dataadjuntos:r});case 4:a=n.sent,i=a.data,i.tipo?"success"===i.tipo?(t.$toasted.success(i.mensaje,{icon:"done",duration:5e3}),t.getData()):t.$toasted.error(i.mensaje,{icon:"error",duration:5e3}):t.$toasted.error("Error desconocido",{icon:"error",duration:5e3});case 7:case"end":return n.stop()}}),n)})))()}},computed:{adjuntos:{get:function(){return this.dataAdjuntos},set:function(e){this.adjuntos=e}}},watch:{idpropconv:function(e){this.getData()}}},f=l,d=(n("3112"),n("2877")),p=Object(d["a"])(f,r,a,!1,null,null,null);t["default"]=p.exports},"708b":function(e,t,n){},b727:function(e,t,n){var r=n("0366"),a=n("44ad"),i=n("7b0b"),o=n("50c4"),s=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(m,v,h,b){for(var _,g,w=i(m),x=a(w),k=r(v,h,3),j=o(x.length),y=0,A=b||s,R=t?A(m,j):n||d?A(m,0):void 0;j>y;y++)if((p||y in x)&&(_=x[y],g=k(_,y,w),e))if(t)R[y]=g;else if(g)switch(e){case 3:return!0;case 5:return _;case 6:return y;case 2:c.call(R,_)}else switch(e){case 4:return!1;case 7:c.call(R,_)}return f?-1:u||l?l:R}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-55f4f45d.57e070d5.js.map