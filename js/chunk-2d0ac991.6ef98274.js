(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac991"],{"19e8":function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{attrs:{justify:"center"}},[t("v-flex",[t("v-card",{staticClass:"mx-auto"},[t("v-card-text",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:e.propuestasAdjudicadas}},[t("v-icon",{attrs:{dark:""}},[e._v(" refresh ")])],1),t("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary",disabled:e.selectedProceso.length<=0},on:{click:function(a){e.limpiarData,e.dialog_nuevoabogado=!0}}},[e._v(" Actualizar ")]),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}}),t("br"),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.dataConsulta,search:e.search,"single-select":!1,"show-select":"","item-key":"id"},scopedSlots:e._u([{key:"item.valor",fn:function(a){var o=a.item;return[t("span",[e._v(" "+e._s(e.$formatonumero(o.valor,2,1))+" ")])]}}]),model:{value:e.selectedProceso,callback:function(a){e.selectedProceso=a},expression:"selectedProceso"}})],1)],1)],1)],1)],1),t("v-dialog",{attrs:{persistent:"","max-width":"800",scrollable:""},model:{value:e.dialog_nuevoabogado,callback:function(a){e.dialog_nuevoabogado=a},expression:"dialog_nuevoabogado"}},[t("v-card",{attrs:{elevation:"10"}},[t("v-card-title",{staticClass:"headline justify-center"},[e._v(" Cambio de abogado procesos ")]),t("v-card-text",[t("v-autocomplete",{attrs:{items:e.arrAbogados,"item-text":"nombrecompleto","item-value":"codigo",dense:"",label:"Nuevo abogado",autocomplete:"off","cache-items":!1},model:{value:e.abogadoproceso,callback:function(a){e.abogadoproceso=a},expression:"abogadoproceso"}})],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"primary",dark:"",text:"",disabled:""===e.abogadoproceso},on:{click:e.actualizaAbogados}},[e._v("Actualizar")]),t("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(a){e.dialog_nuevoabogado=!1}}},[e._v("Cancelar")])],1)],1)],1)],1)},r=[],s=t("1da1"),n=(t("4de4"),t("96cf"),t("7424")),c={name:"modAbogadoContrato",props:["control"],data:function(){var e=this;return{search:"",tipo_evaluacion:"",oferentes:[],dialog_nuevoabogado:!1,abogadoproceso:"",arrAbogados:[],valid:!1,item:"",dataConsulta:[],selectedProceso:[],headers:[{text:"Título del proceso",align:"left",value:"titulo",class:"subtitle-1 font-weight-bold black--text"},{text:"Fecha límite",align:"left",value:"fecha_cierre_format",class:"subtitle-1 font-weight-bold black--text"},{text:"Tipo de proceso",align:"left",value:"tipo_contratacion",class:"subtitle-1 font-weight-bold black--text"},{text:"Estado",align:"left",value:"estado",class:"subtitle-1 font-weight-bold black--text"},{text:"Referencia",align:"left",value:"referencia",class:"subtitle-1 font-weight-bold black--text"},{text:"Abogado actual",align:"left",value:"nombreabogado",class:"subtitle-1 font-weight-bold black--text"},{text:"Supervisor",align:"left",value:"nombresupervisor",class:"subtitle-1 font-weight-bold black--text"},{text:"Valor",align:"left",value:"valor",class:"subtitle-1 font-weight-bold black--text"}],rules:{required:function(e){return!!e||"Campo requerido."},noDual:function(a){return a!==e.abogadoproceso||"El abogado debe ser diferente al Supervisor."},valorNumerico:function(a){return 0!==parseFloat(e.$limpiarMoneda(a))||"El valor debe ser diferente a cero (0)."}}}},methods:{limpiarData:function(){this.abogadoproceso="",this.selectedProceso=[]},getColorBtnData:function(e){return""===e.abogado||null===e.abogado?"gray":"primary"},getColorBtnVoBo:function(e){return"N"===e?"red":"S"===e?"primary":"gray"},propuestasAdjudicadas:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n["a"].propuestasAdjudicadas();case 3:t=a.sent,o=t.data,e.dataConsulta=o,a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log(a.t0);case 11:return a.prev=11,a.finish(11);case 13:case"end":return a.stop()}}),a,null,[[0,8,11,13]])})))()},traeAbogados:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n["a"].personalPorArea({area:7});case 3:t=a.sent,o=t.data,o.data&&(e.arrAbogados=o.data.filter((function(e){return 1===e.codigoestado}))),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log(a.t0);case 11:return a.prev=11,a.finish(11);case 13:case"end":return a.stop()}}),a,null,[[0,8,11,13]])})))()},actualizaAbogados:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t,o,r,s,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(t="",o=0,r=0;r<e.selectedProceso.length;r++)s=e.selectedProceso[r],s.supervisor===e.abogadoproceso&&(t+="* "+s.titulo+"\n",o+=1);if(""===t){a.next=7;break}if(!(o>=e.selectedProceso.length)){a.next=7;break}return e.$toasted.error("El abogado seleccionado es el mismo supervisor en todos los procesos que se requieren actualizar",{icon:"error",duration:5e3}),a.abrupt("return");case 7:return a.prev=7,a.next=10,n["a"].actualizarAbogadoProcesos({data:e.selectedProceso,nuevoabogado:e.abogadoproceso});case 10:c=a.sent,l=c.data,l?(""!==t?e.$toasted.success("Se actualizó el abogado en algunos procesos seleccionados. Los siguientes procesos coincidian con el supervisor\n\r"+t,{icon:"done",duration:1e4}):e.$toasted.success("Se actualizó el abogado en los procesos seleccionados con éxito",{icon:"done",duration:5e3}),e.limpiarData(),e.dialog_nuevoabogado=!1):e.$toasted.error("Se presentó un error al realizar el proceso",{icon:"error",duration:5e3}),e.propuestasAdjudicadas(),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](7),console.log(a.t0);case 19:return a.prev=19,a.finish(19);case 21:case"end":return a.stop()}}),a,null,[[7,16,19,21]])})))()}},mounted:function(){this.propuestasAdjudicadas(),this.traeAbogados()},watch:{control:function(e){this.limpiarData()}}},l=c,i=t("2877"),d=Object(i["a"])(l,o,r,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0ac991.6ef98274.js.map