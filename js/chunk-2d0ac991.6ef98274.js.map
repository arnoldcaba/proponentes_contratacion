{"version":3,"sources":["webpack:///./src/components/adminApp/formulacioncontractual/modAbogadoContrato.vue?c34c","webpack:///src/components/adminApp/formulacioncontractual/modAbogadoContrato.vue","webpack:///./src/components/adminApp/formulacioncontractual/modAbogadoContrato.vue?1b6f","webpack:///./src/components/adminApp/formulacioncontractual/modAbogadoContrato.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","propuestasAdjudicadas","_v","selectedProceso","length","$event","limpiarData","dialog_nuevoabogado","model","value","callback","$$v","search","expression","headers","dataConsulta","scopedSlots","_u","key","fn","ref","item","_s","$formatonumero","valor","arrAbogados","abogadoproceso","actualizaAbogados","staticRenderFns","name","props","data","tipo_evaluacion","oferentes","valid","rules","required","noDual","valorNumerico","methods","getColorBtnData","abogado","getColorBtnVoBo","vobo","mounted","traeAbogados","watch","control","component"],"mappings":"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","file":"js/chunk-2d0ac991.6ef98274.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"justify\":\"center\"}},[_c('v-flex',[_c('v-card',{staticClass:\"mx-auto\"},[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"mx-2\",attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.propuestasAdjudicadas}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" refresh \")])],1),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"dark\":\"\",\"color\":\"primary\",\"disabled\":_vm.selectedProceso.length <= 0},on:{\"click\":function($event){_vm.limpiarData,_vm.dialog_nuevoabogado = true}}},[_vm._v(\" Actualizar \")]),_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":\"Buscar\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('br'),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.dataConsulta,\"search\":_vm.search,\"single-select\":false,\"show-select\":\"\",\"item-key\":\"id\"},scopedSlots:_vm._u([{key:\"item.valor\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(\" \"+_vm._s(_vm.$formatonumero(item.valor, 2, 1))+\" \")])]}}]),model:{value:(_vm.selectedProceso),callback:function ($$v) {_vm.selectedProceso=$$v},expression:\"selectedProceso\"}})],1)],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"800\",\"scrollable\":\"\"},model:{value:(_vm.dialog_nuevoabogado),callback:function ($$v) {_vm.dialog_nuevoabogado=$$v},expression:\"dialog_nuevoabogado\"}},[_c('v-card',{attrs:{\"elevation\":\"10\"}},[_c('v-card-title',{staticClass:\"headline justify-center\"},[_vm._v(\" Cambio de abogado procesos \")]),_c('v-card-text',[_c('v-autocomplete',{attrs:{\"items\":_vm.arrAbogados,\"item-text\":\"nombrecompleto\",\"item-value\":\"codigo\",\"dense\":\"\",\"label\":\"Nuevo abogado\",\"autocomplete\":\"off\",\"cache-items\":false},model:{value:(_vm.abogadoproceso),callback:function ($$v) {_vm.abogadoproceso=$$v},expression:\"abogadoproceso\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\",\"disabled\":_vm.abogadoproceso===''},on:{\"click\":_vm.actualizaAbogados}},[_vm._v(\"Actualizar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_nuevoabogado=false}}},[_vm._v(\"Cancelar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container justify=\"center\">\n    <v-flex>\n      <v-card class=\"mx-auto\">\n        <v-card-text>\n            <v-row>\n                <v-col cols=\"12\">\n                    <v-btn\n                      class=\"mx-2\"\n                      fab\n                      dark\n                      small\n                      color=\"primary\"\n                      @click=\"propuestasAdjudicadas\"\n                    >\n                      <v-icon dark>\n                        refresh\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      class=\"mx-2\"\n                      dark\n                      color=\"primary\"\n                      @click=\"limpiarData,dialog_nuevoabogado = true\"\n                      :disabled = \"selectedProceso.length <= 0\"\n                    >\n                      Actualizar\n                    </v-btn>\n                    <v-text-field\n                        v-model=\"search\"\n                        append-icon=\"search\"\n                        label=\"Buscar\"\n                        single-line\n                        hide-details\n                    >\n                    </v-text-field>\n                    <br>\n                    <v-data-table\n                        :headers=\"headers\"\n                        :items=\"dataConsulta\"\n                        :search=\"search\"\n                        :single-select=\"false\"\n                        show-select\n                        v-model=\"selectedProceso\"\n                        item-key=\"id\"\n                        class=\"elevation-1\"\n                    >\n                       <template v-slot:item.valor=\"{ item }\">\n                        <span>\n                          {{ $formatonumero(item.valor, 2, 1) }}\n                        </span>\n                      </template>\n                    </v-data-table>\n                </v-col>\n            </v-row>\n        </v-card-text>\n      </v-card>\n    </v-flex>\n\n    <v-dialog\n      v-model=\"dialog_nuevoabogado\"\n      persistent\n      max-width=\"800\"\n      scrollable\n    >\n      <v-card elevation=\"10\">\n        <v-card-title class=\"headline justify-center\">\n          Cambio de abogado procesos\n        </v-card-title>\n        <v-card-text>\n          <v-autocomplete\n              v-model=\"abogadoproceso\"\n              :items=\"arrAbogados\"\n              item-text=\"nombrecompleto\"\n              item-value=\"codigo\"\n              dense\n              label=\"Nuevo abogado\"\n              autocomplete=\"off\"\n              :cache-items=\"false\"\n          >\n          </v-autocomplete>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" dark text :disabled=\"abogadoproceso===''\" @click=\"actualizaAbogados\">Actualizar</v-btn>\n          <v-btn color=\"primary\" dark text @click=\"dialog_nuevoabogado=false\">Cancelar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n  </v-container>\n</template>\n<script>\nimport { adminApp } from '@/services/api'\nexport default {\n  name: 'modAbogadoContrato',\n  props: ['control'],\n  data () {\n    return {\n      search: '',\n      tipo_evaluacion: '',\n      oferentes: [],\n      dialog_nuevoabogado: false,\n      abogadoproceso: '',\n      arrAbogados: [],\n      valid: false,\n      item: '',\n      dataConsulta: [],\n      selectedProceso: [],\n      headers: [\n        { text: 'Título del proceso', align: 'left', value: 'titulo', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Fecha límite', align: 'left', value: 'fecha_cierre_format', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Tipo de proceso', align: 'left', value: 'tipo_contratacion', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Estado', align: 'left', value: 'estado', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Referencia', align: 'left', value: 'referencia', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Abogado actual', align: 'left', value: 'nombreabogado', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Supervisor', align: 'left', value: 'nombresupervisor', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Valor', align: 'left', value: 'valor', class: 'subtitle-1 font-weight-bold black--text' }\n      ],\n      rules: {\n        required: value => !!value || 'Campo requerido.',\n        noDual: value => value !== this.abogadoproceso || 'El abogado debe ser diferente al Supervisor.',\n        valorNumerico: value => parseFloat(this.$limpiarMoneda(value)) !== 0 || 'El valor debe ser diferente a cero (0).'\n      }\n    }\n  },\n  methods: {\n    limpiarData () {\n      this.abogadoproceso = ''\n      this.selectedProceso = []\n    },\n    getColorBtnData (item) {\n      if (item.abogado === '' || item.abogado === null) {\n        return 'gray'\n      } else {\n        return 'primary'\n      }\n    },\n    getColorBtnVoBo (vobo) {\n      if (vobo === 'N') {\n        return 'red'\n      } else if (vobo === 'S') {\n        return 'primary'\n      } else {\n        return 'gray'\n      }\n    },\n    async propuestasAdjudicadas () {\n      try {\n        const { data } = await adminApp.propuestasAdjudicadas()\n        this.dataConsulta = data\n      } catch (error) {\n        console.log(error)\n      } finally {\n      }\n    },\n    async traeAbogados () {\n      try {\n        const { data } = await adminApp.personalPorArea({ area: 7 })\n        if (data.data) {\n          this.arrAbogados = data.data.filter(persona => persona.codigoestado === 1)\n        }\n      } catch (error) {\n        console.log(error)\n      } finally {\n      }\n    },\n    async actualizaAbogados () {\n      let msg = ''\n      let totalerrores = 0\n      for (let index = 0; index < this.selectedProceso.length; index++) {\n        const element = this.selectedProceso[index]\n        if (element.supervisor === this.abogadoproceso) {\n          msg += '* ' + element.titulo + '\\n'\n          totalerrores += 1\n        }\n      }\n      if (msg !== '') {\n        if (totalerrores >= this.selectedProceso.length) {\n          this.$toasted.error('El abogado seleccionado es el mismo supervisor en todos los procesos que se requieren actualizar', { icon: 'error', duration: 5000 })\n          return\n        }\n      }\n      try {\n        const { data } = await adminApp.actualizarAbogadoProcesos(\n          {\n            data: this.selectedProceso,\n            nuevoabogado: this.abogadoproceso\n          }\n        )\n        if (data) {\n          if (msg !== '') {\n            this.$toasted.success('Se actualizó el abogado en algunos procesos seleccionados. Los siguientes procesos coincidian con el supervisor\\n\\r' + msg, { icon: 'done', duration: 10000 })\n          } else {\n            this.$toasted.success('Se actualizó el abogado en los procesos seleccionados con éxito', { icon: 'done', duration: 5000 })\n          }\n          this.limpiarData()\n          this.dialog_nuevoabogado = false\n        } else {\n          this.$toasted.error('Se presentó un error al realizar el proceso', { icon: 'error', duration: 5000 })\n        }\n        this.propuestasAdjudicadas()\n      } catch (error) {\n        console.log(error)\n      } finally {\n      }\n    }\n  },\n  mounted () {\n    this.propuestasAdjudicadas()\n    this.traeAbogados()\n  },\n  watch: {\n    control: function (val) {\n      this.limpiarData()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modAbogadoContrato.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modAbogadoContrato.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modAbogadoContrato.vue?vue&type=template&id=7794d65d&\"\nimport script from \"./modAbogadoContrato.vue?vue&type=script&lang=js&\"\nexport * from \"./modAbogadoContrato.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}