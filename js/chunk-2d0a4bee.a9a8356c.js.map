{"version":3,"sources":["webpack:///./src/components/adminApp/formulacioncontractual/novedadesProceso.vue?27fb","webpack:///src/components/adminApp/formulacioncontractual/novedadesProceso.vue","webpack:///./src/components/adminApp/formulacioncontractual/novedadesProceso.vue?c9b0","webpack:///./src/components/adminApp/formulacioncontractual/novedadesProceso.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","on","abrirDialogoNuevo","_v","staticClass","_s","itemactual","referencia","titulo","model","value","callback","$$v","search","expression","headers","dataNovedades","scopedSlots","_u","key","fn","ref","item","$formatonumero","valoranterior","valornuevo","dialog_new","valid","dataTipoNovedades","traeDatoActual","tiposnovedad","fechaanterior","fechanueva","_e","textoanterior","oferentespropuestas","oferentenuevo","abogados","supervisorproceso","textonuevo","agregarNovedad","$event","staticRenderFns","name","props","data","itemadd","methods","limpiarData","console","log","oferentes","fecha_terminacion_definitiva","arrayFecha","split","valor_total_contrato","Nombre","nombresupervisor","watch","handler","val","traeOferentes","getNovedades","immediate","mounted","traeAbogados","getTipoNovedades","component"],"mappings":"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B,EAAgB9B,KAAKY,WAAW8C,6BAChCC,EAAa7B,EAAc8B,MAAM,KACjC5D,KAAKqC,cAAgBsB,EAAW,GAAK,IAAMA,EAAW,GAAK,IAAMA,EAAW,GAC5E3D,KAAK8B,cAAgB9B,KAAK6B,eAAe7B,KAAKY,WAAWiD,qBAAsB,EAAG,GAClF,MACF,KAAK,EACH7D,KAAKwC,cAAgBxC,KAAKY,WAAWmD,iBACrC,MACF,QACE,SAIR,eA5FJ,WA4FA,0MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KAZA,KAaA,eAbA,OAcA,IAdA,QAiCA,IAjCA,QA6CA,IA7CA,QAsEA,IAtEA,QA+FA,IA/FA,QA6GA,IA7GA,QA6HA,IA7HA,QAqJA,IArJA,kCAeA,6BACA,yBACA,eACA,0BACA,cACA,4DACA,iBACA,OACA,2GACA,KAEA,IACA,IACA,IACA,IACA,KACA,KA/BA,qCAkCA,iCACA,oCACA,mBACA,+FACA,KAEA,KACA,KACA,KACA,KA3CA,qCA8CA,6BACA,yBACA,0BACA,cACA,sEACA,eACA,MACA,2GACA,MAEA,oCACA,iCACA,mBACA,+FACA,MAGA,IACA,IACA,IACA,IACA,KACA,KApEA,qCAuEA,6BACA,yBACA,0BACA,cACA,4DACA,eACA,MACA,2GACA,MAEA,oCACA,iCACA,mBACA,4FACA,MAGA,IACA,IACA,IACA,IACA,KACA,KA7FA,qCAgGA,8CACA,6GACA,KAEA,4BACA,kBACA,KACA,KACA,IACA,IACA,IACA,IA3GA,qCA8GA,6BACA,yBACA,cACA,yBACA,OACA,2GACA,KAEA,IACA,eACA,IACA,IACA,KACA,KA3HA,qCA8HA,6BACA,yBACA,cACA,yBACA,eACA,MACA,2GACA,MAEA,oCACA,iCACA,mBACA,4FACA,MAGA,IACA,IACA,IACA,IACA,KACA,KAnJA,sCAsJA,+CACA,4GACA,KACA,6CACA,mHACA,KAEA,gCACA,sBACA,KACA,KACA,IACA,IACA,IACA,IApKA,wEAyKA,MAzKA,yBA0KA,kJA1KA,WA2KA,8BACA,SA5KA,kBA2KA,EA3KA,EA2KA,KAGA,oCACA,kFACA,iBACA,iBAEA,wGAnLA,iDAwLEC,MAAO,CACLpD,WAAY,CACVqD,QAAS,SAAf,GACYC,IACFlE,KAAKmE,gBACLnE,KAAKoE,iBAGTC,WAAW,IAGfC,QAjUF,WAkUItE,KAAKuE,eACLvE,KAAKwE,mBACLxE,KAAKoE,iBCtd+W,I,YCOpXK,EAAY,eACd,EACA3E,EACAkD,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E","file":"js/chunk-2d0a4bee.a9a8356c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-flex',[_c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.abrirDialogoNuevo}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"add\")])],1)],1),_c('v-card',{staticClass:\"elevation-2\"},[_c('v-card-title',{staticClass:\"headline justify-center\"},[_vm._v(\" \"+_vm._s(_vm.itemactual.referencia + ' - ' + _vm.itemactual.titulo)+\" \")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":\"Buscar\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('br'),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.dataNovedades,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.valoranterior\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(\" \"+_vm._s(_vm.$formatonumero(item.valoranterior, 2, 1))+\" \")])]}},{key:\"item.valornuevo\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(\" \"+_vm._s(_vm.$formatonumero(item.valornuevo, 2, 1))+\" \")])]}}])})],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.dialog_new),callback:function ($$v) {_vm.dialog_new=$$v},expression:\"dialog_new\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Nueva novedad\")])]),_c('v-card-text',[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-flex',[_c('v-autocomplete',{attrs:{\"items\":_vm.dataTipoNovedades,\"item-text\":\"descripcion\",\"item-value\":\"codigo\",\"hide-details\":\"\",\"cache-items\":false},on:{\"change\":_vm.traeDatoActual},model:{value:(_vm.tiposnovedad),callback:function ($$v) {_vm.tiposnovedad=$$v},expression:\"tiposnovedad\"}})],1),_c('br'),_c('br'),_c('v-flex',[(_vm.tiposnovedad == 1 || _vm.tiposnovedad == 3 || _vm.tiposnovedad == 4 || _vm.tiposnovedad == 6 || _vm.tiposnovedad == 7)?_c('div',{attrs:{\"id\":\"dvFechas\"}},[_c('v-text-field',{attrs:{\"label\":\"Valor actual\",\"readonly\":true},model:{value:(_vm.fechaanterior),callback:function ($$v) {_vm.fechaanterior=$$v},expression:\"fechaanterior\"}}),_c('v-text-field',{attrs:{\"label\":\"Valor nuevo\",\"type\":\"date\"},model:{value:(_vm.fechanueva),callback:function ($$v) {_vm.fechanueva=$$v},expression:\"fechanueva\"}})],1):_vm._e()]),_c('v-flex',[(_vm.tiposnovedad == 2 || _vm.tiposnovedad == 3 || _vm.tiposnovedad == 4 || _vm.tiposnovedad == 7)?_c('div',{attrs:{\"id\":\"dvValor\"}},[_c('v-text-field',{attrs:{\"label\":\"Valor actual\",\"readonly\":true},model:{value:(_vm.valoranterior),callback:function ($$v) {_vm.valoranterior=$$v},expression:\"valoranterior\"}}),_c('v-text-field',{attrs:{\"label\":\"Valor nuevo\"},model:{value:(_vm.valornuevo),callback:function ($$v) {_vm.valornuevo=$$v},expression:\"valornuevo\"}})],1):_vm._e()]),_c('v-flex',[(_vm.tiposnovedad == 5)?_c('div',{attrs:{\"id\":\"dvOferente\"}},[_c('v-text-field',{attrs:{\"label\":\"Valor actual\",\"readonly\":true},model:{value:(_vm.textoanterior),callback:function ($$v) {_vm.textoanterior=$$v},expression:\"textoanterior\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.oferentespropuestas,\"item-text\":\"Nombre\",\"item-value\":\"proponente\",\"dense\":\"\",\"label\":\"Nuevo oferente\",\"autocomplete\":\"off\",\"cache-items\":false},model:{value:(_vm.oferentenuevo),callback:function ($$v) {_vm.oferentenuevo=$$v},expression:\"oferentenuevo\"}})],1):_vm._e()]),_c('v-flex',[(_vm.tiposnovedad == 8)?_c('div',{attrs:{\"id\":\"dvAbogado\"}},[_c('v-text-field',{attrs:{\"label\":\"Valor actual\",\"readonly\":true},model:{value:(_vm.textoanterior),callback:function ($$v) {_vm.textoanterior=$$v},expression:\"textoanterior\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.abogados,\"item-text\":\"nombrecompleto\",\"item-value\":\"codigo\",\"dense\":\"\",\"label\":\"Nuevo supervisor\",\"autocomplete\":\"off\",\"cache-items\":false},model:{value:(_vm.supervisorproceso),callback:function ($$v) {_vm.supervisorproceso=$$v},expression:\"supervisorproceso\"}})],1):_vm._e()])],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"disabled\":_vm.fechanueva == '' && (_vm.valornuevo == 0 || _vm.valornuevo == '') && _vm.textonuevo == '' && _vm.supervisorproceso == '' && _vm.oferentenuevo == ''},on:{\"click\":_vm.agregarNovedad}},[_vm._v(\"Guardar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_new=false}}},[_vm._v(\"Cancelar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid>\n      <v-flex>\n        <div style=\"padding-bottom:10px\">\n            <v-btn fab dark small color=\"primary\" @click=\"abrirDialogoNuevo\" >\n                <v-icon dark>add</v-icon>\n            </v-btn>\n        </div>\n        <v-card class=\"elevation-2\">\n          <v-card-title class=\"headline justify-center\">\n            {{ itemactual.referencia + ' - ' + itemactual.titulo }}\n          </v-card-title>\n          <v-card-text>\n            <v-text-field\n              v-model=\"search\"\n              append-icon=\"search\"\n              label=\"Buscar\"\n              single-line\n              hide-details\n              >\n            </v-text-field>\n            <br>\n            <v-data-table\n             :headers=\"headers\"\n             :items=\"dataNovedades\"\n             :search=\"search\"\n             class=\"elevation-1\"\n            >\n              <template v-slot:item.valoranterior=\"{ item }\">\n                <span>\n                  {{ $formatonumero(item.valoranterior, 2, 1) }}\n                </span>\n              </template>\n              <template v-slot:item.valornuevo=\"{ item }\">\n                <span>\n                  {{ $formatonumero(item.valornuevo, 2, 1) }}\n                </span>\n              </template>\n            </v-data-table>\n          </v-card-text>\n        </v-card>\n       </v-flex>\n\n       <v-dialog v-model=\"dialog_new\" max-width=\"800px\">\n        <v-card>\n            <v-card-title>\n                <span class=\"headline\">Nueva novedad</span>\n            </v-card-title>\n            <v-card-text>\n              <v-form v-model=\"valid\" ref=\"form\">\n                <v-flex>\n                    <v-autocomplete\n                        v-model=\"tiposnovedad\"\n                        :items=\"dataTipoNovedades\"\n                        item-text=\"descripcion\"\n                        item-value=\"codigo\"\n                        hide-details\n                        :cache-items=\"false\"\n                        @change=\"traeDatoActual\"\n                    >\n                    </v-autocomplete>\n                </v-flex>\n                <br>\n                <br>\n                <v-flex>\n                    <div id=\"dvFechas\"\n                      v-if=\"tiposnovedad == 1 || tiposnovedad == 3 || tiposnovedad == 4 || tiposnovedad == 6 || tiposnovedad == 7\"\n                    >\n                        <v-text-field v-model=\"fechaanterior\" label=\"Valor actual\"\n                            :readonly=\"true\"\n                        >\n                        </v-text-field>\n                        <v-text-field v-model=\"fechanueva\" label=\"Valor nuevo\"\n                            type=\"date\"\n                        >\n                        </v-text-field>\n                    </div>\n                </v-flex>\n                <v-flex>\n                    <div id=\"dvValor\"\n                      v-if=\"tiposnovedad == 2 || tiposnovedad == 3 || tiposnovedad == 4 || tiposnovedad == 7\"\n                    >\n                        <v-text-field v-model=\"valoranterior\" label=\"Valor actual\"\n                            :readonly=\"true\"\n                        >\n                        </v-text-field>\n                        <v-text-field v-model=\"valornuevo\" label=\"Valor nuevo\"\n                        >\n                        </v-text-field>\n                    </div>\n                </v-flex>\n                <v-flex>\n                    <div id=\"dvOferente\"\n                      v-if=\"tiposnovedad == 5\"\n                    >\n                        <v-text-field v-model=\"textoanterior\" label=\"Valor actual\"\n                            :readonly=\"true\"\n                        >\n                        </v-text-field>\n                        <v-autocomplete\n                            v-model=\"oferentenuevo\"\n                            :items=\"oferentespropuestas\"\n                            item-text=\"Nombre\"\n                            item-value=\"proponente\"\n                            dense\n                            label=\"Nuevo oferente\"\n                            autocomplete=\"off\"\n                            :cache-items=\"false\"\n                        >\n                        </v-autocomplete>\n                    </div>\n                </v-flex>\n                <v-flex>\n                    <div id=\"dvAbogado\"\n                      v-if=\"tiposnovedad == 8\"\n                    >\n                        <v-text-field v-model=\"textoanterior\" label=\"Valor actual\"\n                            :readonly=\"true\"\n                        >\n                        </v-text-field>\n                        <v-autocomplete\n                            v-model=\"supervisorproceso\"\n                            :items=\"abogados\"\n                            item-text=\"nombrecompleto\"\n                            item-value=\"codigo\"\n                            dense\n                            label=\"Nuevo supervisor\"\n                            autocomplete=\"off\"\n                            :cache-items=\"false\"\n                        >\n                        </v-autocomplete>\n                    </div>\n                </v-flex>\n              </v-form>\n            </v-card-text>\n            <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"primary\" text @click=\"agregarNovedad\" :disabled=\"fechanueva == '' && (valornuevo == 0 || valornuevo == '') && textonuevo == '' && supervisorproceso == '' && oferentenuevo == ''\">Guardar</v-btn>\n                <v-btn color=\"primary\" text @click=\"dialog_new=false\">Cancelar</v-btn>\n            </v-card-actions>\n         </v-card>\n       </v-dialog>\n     </v-container>\n  </template>\n<script>\nimport { adminApp } from '@/services/api'\nexport default {\n  name: 'novedadesProceso',\n  props: ['itemactual', 'oferentes'],\n  data () {\n    return {\n      search: '',\n      dialog_new: false,\n      itemadd: '',\n      valid: false,\n      dataTipoNovedades: [],\n      dataNovedades: [],\n      tiposnovedad: '',\n      fechaanterior: '',\n      fechanueva: '',\n      valoranterior: 0,\n      valornuevo: 0,\n      textoanterior: '',\n      textonuevo: '',\n      oferentespropuestas: [],\n      abogados: [],\n      supervisorproceso: '',\n      oferentenuevo: '',\n      headers: [\n        { text: 'Tipo de novedad', width: '250', align: 'left', value: 'tiponovedad', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Fecha Novedad', width: '170', align: 'left', value: 'fecha', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Fecha anterior', width: '170', align: 'left', value: 'fechaanterior', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Fecha nueva', width: '150', align: 'left', value: 'fechanueva', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Valor anterior', width: '200', align: 'left', value: 'valoranterior', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Valor nuevo', width: '200', align: 'left', value: 'valornuevo', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Supervisor/Proveedor anterior', width: '300', align: 'left', value: 'textoanterior', class: 'subtitle-1 font-weight-bold black--text' },\n        { text: 'Supervisor/Proveedor nuevo', width: '300', align: 'left', value: 'textonuevo', class: 'subtitle-1 font-weight-bold black--text' }\n      ]\n    }\n  },\n  methods: {\n    limpiarData () {\n      this.fechaanterior = ''\n      this.fechanueva = ''\n      this.valoranterior = 0\n      this.valornuevo = 0\n      this.textoanterior = ''\n      this.textonuevo = ''\n      this.supervisorproceso = ''\n      this.oferentenuevo = ''\n    },\n    abrirDialogoNuevo () {\n      this.limpiarData()\n      this.dialog_new = true\n    },\n    async getTipoNovedades () {\n      const { data } = await adminApp.tipoNovedadProcesos()\n      console.log(data.data)\n      this.dataTipoNovedades = data.data\n    },\n    async getNovedades () {\n      const { data } = await adminApp.NovedadesProcesos({\n        procesoid: this.itemactual.id\n      })\n      this.dataNovedades = data.data\n    },\n    async traeAbogados () {\n      try {\n        const { data } = await adminApp.personalPorArea({ area: 7 })\n        if (data.data) {\n          this.abogados = data.data.filter(persona => persona.codigoestado === 1)\n        }\n      } catch (error) {\n        console.log(error)\n      } finally {\n      }\n    },\n    async traeOferentes () {\n      const { data } = await adminApp.oferentesPropuestas({ codigopropuesta: this.itemactual.id })\n      console.log(data)\n      this.oferentespropuestas = data\n    },\n    traeDatoActual () {\n      console.log(this.itemactual, this.oferentes)\n      this.limpiarData()\n      if (this.tiposnovedad !== 0) {\n        let valoranterior = ''\n        let arrayFecha = []\n        switch (this.tiposnovedad) {\n          case 1:\n            valoranterior = this.itemactual.fecha_terminacion_definitiva\n            arrayFecha = valoranterior.split('-')\n            this.fechaanterior = arrayFecha[2] + '/' + arrayFecha[1] + '/' + arrayFecha[0]\n            break\n          case 2:\n            valoranterior = this.$formatonumero(this.itemactual.valor_total_contrato, 2, 1)\n            this.valoranterior = valoranterior\n            break\n          case 3:\n            valoranterior = this.itemactual.fecha_terminacion_definitiva\n            arrayFecha = valoranterior.split('-')\n            this.fechaanterior = arrayFecha[2] + '/' + arrayFecha[1] + '/' + arrayFecha[0]\n            this.valoranterior = this.$formatonumero(this.itemactual.valor_total_contrato, 2, 1)\n            break\n          case 4:\n            valoranterior = this.itemactual.fecha_terminacion_definitiva\n            arrayFecha = valoranterior.split('-')\n            this.fechaanterior = arrayFecha[2] + '/' + arrayFecha[1] + '/' + arrayFecha[0]\n            this.valoranterior = this.$formatonumero(this.itemactual.valor_total_contrato, 2, 1)\n            break\n          case 5:\n            this.textoanterior = this.oferentes[0].Nombre\n            break\n          case 6:\n            valoranterior = this.itemactual.fecha_terminacion_definitiva\n            arrayFecha = valoranterior.split('-')\n            this.fechaanterior = arrayFecha[2] + '/' + arrayFecha[1] + '/' + arrayFecha[0]\n            break\n          case 7:\n            valoranterior = this.itemactual.fecha_terminacion_definitiva\n            arrayFecha = valoranterior.split('-')\n            this.fechaanterior = arrayFecha[2] + '/' + arrayFecha[1] + '/' + arrayFecha[0]\n            this.valoranterior = this.$formatonumero(this.itemactual.valor_total_contrato, 2, 1)\n            break\n          case 8:\n            this.textoanterior = this.itemactual.nombresupervisor\n            break\n          default:\n            break\n        }\n      }\n    },\n    async agregarNovedad () {\n      var valoranterior = ''\n      var valoranterior1 = ''\n      var valornuevo = ''\n      var valornuevo1 = ''\n      var fanterior = ''\n      var fnueva = ''\n      var txtanterior = ''\n      var txtnuevo = ''\n      let arrayFecha = []\n      let ok = 1\n      valoranterior1 = ''\n      valornuevo1 = ''\n      switch (this.tiposnovedad) {\n        case 1:\n          arrayFecha = this.fechaanterior.split('/')\n          valoranterior = arrayFecha[2] + '-' + arrayFecha[1] + '-' + arrayFecha[0]\n          valornuevo = this.fechanueva\n          arrayFecha = this.fechanueva.split('-')\n          var fechaAnterior = new Date(valoranterior)\n          var fechaNueva = new Date(arrayFecha[0] + '-' + (parseInt(arrayFecha[1]) + 1).toString() + '-' + arrayFecha[2])\n          console.log(fechaAnterior, fechaNueva)\n          if (fechaAnterior >= fechaNueva) {\n            this.$toasted.error('La fecha de terminación nueva debe ser mayor a la anterior', { icon: 'error', duration: 5000 })\n            ok = 0\n          }\n          fanterior = valoranterior\n          fnueva = valornuevo\n          valoranterior = 0\n          valornuevo = 0\n          txtanterior = ''\n          txtnuevo = ''\n          break\n        case 2:\n          valornuevo = this.$limpiarMoneda(this.valornuevo)\n          valoranterior = this.$limpiarMoneda(this.valoranterior)\n          if (parseFloat(valornuevo) <= 0) {\n            this.$toasted.error('El valor a adicionar debe ser mayor a 0 (cero)', { icon: 'error', duration: 5000 })\n            ok = 0\n          }\n          fanterior = ''\n          fnueva = ''\n          txtanterior = ''\n          txtnuevo = ''\n          break\n        case 3:\n          arrayFecha = this.fechaanterior.split('/')\n          valoranterior = arrayFecha[2] + '-' + arrayFecha[1] + '-' + arrayFecha[0]\n          arrayFecha = this.fechanueva.split('-')\n          var fechaAnterior1 = new Date(valoranterior)\n          var fechaNueva1 = new Date(new Date(arrayFecha[0] + '-' + (parseInt(arrayFecha[1]) + 1).toString() + '-' + arrayFecha[2]))\n          valornuevo = this.fechanueva\n          if (fechaAnterior1 <= fechaNueva1) {\n            this.$toasted.error('La fecha de terminación nueva debe ser mayor a la anterior', { icon: 'error', duration: 5000 })\n            ok = 0\n          } else {\n            valoranterior1 = this.$limpiarMoneda(this.valoranterior)\n            valornuevo1 = this.$limpiarMoneda(this.valornuevo)\n            if (parseFloat(valornuevo) <= 0) {\n              this.$toasted.error('El valor a adicionar debe ser mayor a 0 (cero)', { icon: 'error', duration: 5000 })\n              ok = 0\n            }\n          }\n          fanterior = valoranterior\n          fnueva = valornuevo\n          valoranterior = valoranterior1\n          valornuevo = valornuevo1\n          txtanterior = ''\n          txtnuevo = ''\n          break\n        case 4:\n          arrayFecha = this.fechaanterior.split('/')\n          valoranterior = arrayFecha[2] + '-' + arrayFecha[1] + '-' + arrayFecha[0]\n          arrayFecha = this.fechanueva.split('-')\n          var fechaAnterior2 = new Date(valoranterior)\n          var fechaNueva2 = new Date(arrayFecha[0] + '-' + (parseInt(arrayFecha[1]) + 1).toString() + '-' + arrayFecha[2])\n          valornuevo = this.fechanueva\n          if (fechaAnterior2 <= fechaNueva2) {\n            this.$toasted.error('La fecha de terminación nueva debe ser menor a la anterior', { icon: 'error', duration: 5000 })\n            ok = 0\n          } else {\n            valoranterior1 = this.$limpiarMoneda(this.valoranterior)\n            valornuevo1 = this.$limpiarMoneda(this.valornuevo)\n            if (parseFloat(valornuevo) <= 0) {\n              this.$toasted.error('El valor a restar debe ser mayor a 0 (cero)', { icon: 'error', duration: 5000 })\n              ok = 0\n            }\n          }\n          fanterior = valoranterior\n          fnueva = valornuevo\n          valoranterior = valoranterior1\n          valornuevo = valornuevo1\n          txtanterior = ''\n          txtnuevo = ''\n          break\n        case 5:\n          if (this.oferentenuevo === this.oferentes[0].proponente) {\n            this.$toasted.error('El nuevo contratista del proceso es el mismo que el anterior', { icon: 'error', duration: 5000 })\n            ok = 0\n          }\n          valoranterior = this.oferentes[0].proponente\n          valornuevo = this.oferentenuevo\n          fanterior = ''\n          fnueva = ''\n          txtanterior = valoranterior\n          txtnuevo = valornuevo\n          valoranterior = 0\n          valornuevo = 0\n          break\n        case 6:\n          arrayFecha = this.fechaanterior.split('/')\n          valoranterior = arrayFecha[2] + '-' + arrayFecha[1] + '-' + arrayFecha[0]\n          var fechaAnterior3 = new Date(valoranterior)\n          var fechaNueva3 = new Date(this.fechanueva)\n          if (fechaAnterior3 >= fechaNueva3) {\n            this.$toasted.error('La fecha de terminación nueva debe ser mayor a la anterior', { icon: 'error', duration: 5000 })\n            ok = 0\n          }\n          fanterior = valoranterior\n          fnueva = this.fechanueva\n          valoranterior = 0\n          valornuevo = 0\n          txtanterior = ''\n          txtnuevo = ''\n          break\n        case 7:\n          arrayFecha = this.fechaanterior.split('/')\n          valoranterior = arrayFecha[2] + '-' + arrayFecha[1] + '-' + arrayFecha[0]\n          var fechaAnterior4 = new Date(valoranterior)\n          var fechaNueva4 = new Date(this.fechanueva)\n          valornuevo = this.fechanueva\n          if (fechaAnterior4 >= fechaNueva4) {\n            this.$toasted.error('La fecha de terminación nueva debe ser menor a la anterior', { icon: 'error', duration: 5000 })\n            ok = 0\n          } else {\n            valoranterior1 = this.$limpiarMoneda(this.valoranterior)\n            valornuevo1 = this.$limpiarMoneda(this.valornuevo)\n            if (parseFloat(valornuevo) <= 0) {\n              this.$toasted.error('El valor a restar debe ser mayor a 0 (cero)', { icon: 'error', duration: 5000 })\n              ok = 0\n            }\n          }\n          fanterior = valoranterior\n          fnueva = valornuevo\n          valoranterior = valoranterior1\n          valornuevo = valornuevo1\n          txtanterior = ''\n          txtnuevo = ''\n          break\n        case 8:\n          if (this.supervisorproceso === this.itemactual.supervisor) {\n            this.$toasted.error('El nuevo supervisor del proceso es el mismo que el anterior', { icon: 'error', duration: 5000 })\n            ok = 0\n          } else if (this.supervisorproceso === this.itemactual.abogado) {\n            this.$toasted.error('El nuevo supervisor y el abogado del proceso, son la misma persona', { icon: 'error', duration: 5000 })\n            ok = 0\n          }\n          valoranterior = this.itemactual.nombresupervisor\n          valornuevo = this.supervisorproceso\n          fanterior = ''\n          fnueva = ''\n          txtanterior = valoranterior\n          txtnuevo = valornuevo\n          valoranterior = 0\n          valornuevo = 0\n          break\n        default:\n          break\n      }\n      if (ok === 1) {\n        var datainf = { procesoid: this.itemactual.id, tiponovedadid: this.tiposnovedad, fechaanterior: fanterior, fechanueva: fnueva, valoranterior: valoranterior, valornuevo: valornuevo, textoanterior: txtanterior, textonuevo: txtnuevo }\n        const { data } = await adminApp.guardarNovedadProceso({\n          data: datainf\n        })\n        if (data.respuesta === '1' || data.respuesta === 1) {\n          this.$toasted.success('Se realizó la novedad con éxito', { icon: 'check', duration: 5000 })\n          this.getNovedades()\n          this.dialog_new = false\n        } else {\n          this.$toasted.error('Se presentó un error al intentar agregar la información', { icon: 'error', duration: 5000 })\n        }\n      }\n    }\n  },\n  watch: {\n    itemactual: {\n      handler: function (val) {\n        if (val) {\n          this.traeOferentes()\n          this.getNovedades()\n        }\n      },\n      immediate: true // provides initial (not changed yet) state\n    }\n  },\n  mounted () {\n    this.traeAbogados()\n    this.getTipoNovedades()\n    this.getNovedades()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./novedadesProceso.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./novedadesProceso.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./novedadesProceso.vue?vue&type=template&id=29a9ed71&\"\nimport script from \"./novedadesProceso.vue?vue&type=script&lang=js&\"\nexport * from \"./novedadesProceso.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}