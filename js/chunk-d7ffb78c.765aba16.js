(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7ffb78c"],{"107c":function(e,t,a){var r=a("d039"),n=a("da84"),i=n.RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,a){"use strict";var r=a("d784"),n=a("44e7"),i=a("825a"),o=a("1d80"),c=a("4840"),s=a("8aa5"),l=a("50c4"),u=a("577e"),d=a("14c3"),f=a("9263"),v=a("9f7f"),p=a("d039"),m=v.UNSUPPORTED_Y,h=[].push,g=Math.min,x=4294967295,b=!p((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));r("split",(function(e,t,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var r=u(o(this)),i=void 0===a?x:a>>>0;if(0===i)return[];if(void 0===e)return[r];if(!n(e))return t.call(r,e,i);var c,s,l,d=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,v+"g");while(c=f.call(m,r)){if(s=m.lastIndex,s>p&&(d.push(r.slice(p,c.index)),c.length>1&&c.index<r.length&&h.apply(d,c.slice(1)),l=c[0].length,p=s,d.length>=i))break;m.lastIndex===c.index&&m.lastIndex++}return p===r.length?!l&&m.test("")||d.push(""):d.push(r.slice(p)),d.length>i?d.slice(0,i):d}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var n=o(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n,a):r.call(u(n),t,a)},function(e,n){var o=i(this),f=u(e),v=a(r,o,f,n,r!==t);if(v.done)return v.value;var p=c(o,RegExp),h=o.unicode,b=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y"),_=new p(m?"^(?:"+o.source+")":o,b),R=void 0===n?x:n>>>0;if(0===R)return[];if(0===f.length)return null===d(_,f)?[f]:[];var w=0,D=0,y=[];while(D<f.length){_.lastIndex=m?0:D;var k,E=d(_,m?f.slice(D):f);if(null===E||(k=g(l(_.lastIndex+(m?D:0)),f.length))===w)D=s(f,D,h);else{if(y.push(f.slice(w,D)),y.length===R)return y;for(var T=1;T<=E.length-1;T++)if(y.push(E[T]),y.length===R)return y;D=w=k}}return y.push(f.slice(w)),y}]}),!b,m)},"14c3":function(e,t,a){var r=a("c6b6"),n=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"44e7":function(e,t,a){var r=a("861d"),n=a("c6b6"),i=a("b622"),o=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},"8aa5":function(e,t,a){"use strict";var r=a("6547").charAt;e.exports=function(e,t,a){return t+(a?r(e,t).length:1)}},9263:function(e,t,a){"use strict";var r=a("577e"),n=a("ad6d"),i=a("9f7f"),o=a("5692"),c=a("7c73"),s=a("69f3").get,l=a("fce3"),u=a("107c"),d=RegExp.prototype.exec,f=o("native-string-replace",String.prototype.replace),v=d,p=function(){var e=/a/,t=/b*/g;return d.call(e,"a"),d.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),m=i.UNSUPPORTED_Y||i.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],g=p||h||m||l||u;g&&(v=function(e){var t,a,i,o,l,u,g,x=this,b=s(x),_=r(e),R=b.raw;if(R)return R.lastIndex=x.lastIndex,t=v.call(R,_),x.lastIndex=R.lastIndex,t;var w=b.groups,D=m&&x.sticky,y=n.call(x),k=x.source,E=0,T=_;if(D&&(y=y.replace("y",""),-1===y.indexOf("g")&&(y+="g"),T=_.slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==_.charAt(x.lastIndex-1))&&(k="(?: "+k+")",T=" "+T,E++),a=new RegExp("^(?:"+k+")",y)),h&&(a=new RegExp("^"+k+"$(?!\\s)",y)),p&&(i=x.lastIndex),o=d.call(D?a:x,T),D?o?(o.input=o.input.slice(E),o[0]=o[0].slice(E),o.index=x.lastIndex,x.lastIndex+=o[0].length):x.lastIndex=0:p&&o&&(x.lastIndex=x.global?o.index+o[0].length:i),h&&o&&o.length>1&&f.call(o[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)})),o&&w)for(o.groups=u=c(null),l=0;l<w.length;l++)g=w[l],u[g[0]]=o[g[1]];return o}),e.exports=v},"9f7f":function(e,t,a){var r=a("d039"),n=a("da84"),i=n.RegExp;t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},d784:function(e,t,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("9263"),i=a("d039"),o=a("b622"),c=a("9112"),s=o("species"),l=RegExp.prototype;e.exports=function(e,t,a,u){var d=o(e),f=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),v=f&&!i((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[s]=function(){return a},a.flags="",a[d]=/./[d]),a.exec=function(){return t=!0,null},a[d](""),!t}));if(!f||!v||a){var p=/./[d],m=t(d,""[e],(function(e,t,a,r,i){var o=t.exec;return o===n||o===l.exec?f&&!i?{done:!0,value:p.call(t,a,r)}:{done:!0,value:e.call(a,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(l,d,m[1])}u&&c(l[d],"sham",!0)}},f037:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{justify:"center"}},[a("v-flex",[a("v-card",{staticClass:"mx-auto elevation-2"},[a("v-card-text",[a("span",{staticClass:"headline justify-center black--text font-weight-bold"},[e._v(" Información General "),e.editOk?a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:e.abrirEdicionRef}},[a("v-icon",[e._v("edit")])],1):e._e()],1),a("br"),a("span",{staticClass:"subheading font-weight-bold"},[a("v-list",{attrs:{dense:""}},[a("v-list-item",[a("v-list-item-content",[e._v("Fecha Límite de Entrega:")]),a("v-list-item-content",{staticClass:"align-end"},[e._v(" "+e._s(e.itemactual.fecha_cierre_format)+" ")])],1),a("v-list-item",[a("v-list-item-content",[e._v("Tiempo Faltante:")]),a("v-list-item-content",{staticClass:"align-end"},[e._v(" "+e._s(e.tiempoTrascurrido.days+" Dias, "+e.tiempoTrascurrido.hours+" Horas, "+e.tiempoTrascurrido.minutes+" Minutos, "+e.tiempoTrascurrido.seconds+" Segundos")+" ")])],1),a("v-list-item",[a("v-list-item-content",[e._v("Estado:")]),a("v-list-item-content",{staticClass:"align-end"},[e._v(" "+e._s(e.itemactual.estado)+" ")])],1)],1)],1),a("span",{staticClass:"headline justify-center black--text font-weight-bold"},[e._v(" Documentos Generales ")]),a("br"),e.editOk?a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:e.limpiarArchivosAdd}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1)],1):e._e(),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.arrDocs},scopedSlots:e._u([{key:"item.descargar",fn:function(t){var r=t.item;return[""!=r.file_name&&""!=r.file_path?a("v-icon",{staticClass:"mr-5",attrs:{color:"primary"},on:{click:function(t){return e.downloadFile(r.file_path,r.file_name)}}},[e._v(" archive ")]):e._e()]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600",scrollable:""},model:{value:e.dialog_editar,callback:function(t){e.dialog_editar=t},expression:"dialog_editar"}},[a("v-card",{attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"headline justify-center blue--text"},[e._v(" Editar ")]),a("v-card-text",[a("editRef",{attrs:{fecha_cierre:e.itemactual.fecha_cierre,estado:e.itemactual.estado},on:{"update:fecha_cierre":function(t){return e.$set(e.itemactual,"fecha_cierre",t)},"update:estado":function(t){return e.$set(e.itemactual,"estado",t)},actualizaDatos:e.actualizarDatos}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(t){e.dialog_editar=!1}}},[e._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600",scrollable:""},model:{value:e.dialog_subiradjgeneral,callback:function(t){e.dialog_subiradjgeneral=t},expression:"dialog_subiradjgeneral"}},[a("v-card",{attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"headline justify-center blue--text"},[e._v(" Agregar Documento General ")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Documento"},model:{value:e.nombreDocumento,callback:function(t){e.nombreDocumento=t},expression:"nombreDocumento"}})],1)],1),a("v-row",[a("v-col",[a("AddFilesToStorage",{key:e.fileReset,attrs:{item:e.arcDocumento,placeholder:"Cargar Archivo",dense:"","hide-details":"","prepend-icon":""},on:{"remove-file":function(t){e.fileReset++},"file-changed":function(t){e.fileReset++}}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:e.guardarDocGeneral}},[e._v("Guardar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(t){e.dialog_subiradjgeneral=!1}}},[e._v("Cancelar")])],1)],1)],1)],1)},n=[],i=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("ac1f"),a("1276"),a("25f0"),a("7424")),c=a("2dfa"),s=a("bc3a"),l=a.n(s),u={name:"anunciosTabRef",props:["itemactual"],components:{editRef:function(){return a.e("chunk-2d2163d6").then(a.bind(null,"c22c"))},AddFilesToStorage:c["a"]},data:function(){return{tiempoTrascurrido:[],dialog_editar:!1,dialog_subiradjgeneral:!1,fileReset:0,nombreDocumento:"",arcDocumento:[],editOk:0,arrDocs:[{id:1,doc:"Términos de Referencia"},{id:2,doc:"Anexo Persona Natural"},{id:3,doc:"Formato de oferta económica"},{id:4,doc:"Información financiera, estados financieros"},{id:5,doc:"Anexo Fraude y Anticorrupción"}],headers:[{text:"Documento",value:"descripcion",class:"subtitle-1 font-weight-bold black--text"},{text:"Descargar Doc.",value:"descargar",align:"center",class:"subtitle-1 font-weight-bold black--text"}]}},methods:{getTimeRemaining:function(e){var t=Date.parse(e)-Date.parse(new Date),a=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),n=Math.floor(t/36e5%24),i=Math.floor(t/864e5);this.tiempoTrascurrido={total:t,days:i,hours:n,minutes:r,seconds:a}},buscarDocsTermRef:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["b"].traerDocumentosGenerales({id_termref:e.itemactual.id_termref});case 2:a=t.sent,r=a.data,e.arrDocs=r.termref_adjuntos;case 5:case"end":return t.stop()}}),t)})))()},limpiarArchivosAdd:function(){this.nombreDocumento="",this.arcDocumento=[],this.dialog_subiradjgeneral=!0},downloadFile:function(e,t){var a=this;l()({method:"get",url:e,responseType:"arraybuffer"}).then((function(e){a.forceFileDownload(e,t)})).catch((function(){return console.log("error occured")}))},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=a,r.setAttribute("download",t),document.body.appendChild(r),r.click()},abrirEdicionRef:function(){this.dialog_editar=!0},actualizarDatos:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,i,c,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,o["a"].actualizapropuestaConvocatoria({idpropuestaconvocatoria:t.itemactual.id,fecha_cierre:e.fecha_cierre,estado:e.estado});case 2:r=a.sent,n=r.data,n.respuesta?(i=e.fecha_cierre.split("-"),c=i[2].toString(),c=c.length>2?i[2].toString().substring(0,2):i[2].toString(),s=c+"/"+i[1].toString()+"/"+i[0].toString(),t.$toasted.success("Se actualizarón los datos con éxito",{icon:"done",duration:5e3}),t.itemactual.fecha_cierre=e.fecha_cierre,t.itemactual.fecha_cierre_format=s,t.itemactual.estado=e.estado,t.dialog_editar=!1):t.$toasted.error("Se presentó error al intentar de actualizar los datos",{icon:"error",duration:5e3});case 5:case"end":return a.stop()}}),a)})))()},guardarDocGeneral:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={doc_solicitado:e.nombreDocumento,file_name:e.arcDocumento.file_name,file_path:e.arcDocumento.file_path,file_size:e.arcDocumento.file_size,file_type:e.arcDocumento.file_type},t.next=3,o["a"].adicionarDocumentosGenerales({id_termref:e.itemactual.id_termref,data:a});case 3:r=t.sent,n=r.data,n.respuesta?(e.buscarDocsTermRef(),e.$toasted.success("Se agregó el Adjunto con éxito",{icon:"done",duration:5e3}),e.dialog_subiradjgeneral=!1):e.$toasted.error("Se presentó error al intentar de actualizar los datos",{icon:"error",duration:5e3});case 6:case"end":return t.stop()}}),t)})))()}},watch:{itemactual:{handler:function(e){e&&(this.editOk=this.$session.get("codigopersonal")===e.ab_asignado,this.getTimeRemaining(this.itemactual.fecha_cierre),this.buscarDocsTermRef())},immediate:!0}},mounted:function(){var e=this;this.interval=setInterval((function(){e.getTimeRemaining(e.itemactual.fecha_cierre)}),1e3),this.buscarDocsTermRef()}},d=u,f=a("2877"),v=Object(f["a"])(d,r,n,!1,null,null,null);t["default"]=v.exports},fce3:function(e,t,a){var r=a("d039"),n=a("da84"),i=n.RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-d7ffb78c.765aba16.js.map